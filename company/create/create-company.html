<script type="text/javascript">
    RED.nodes.registerType('freshdesk-create-company', {
        category: 'Freshdesk',
        paletteLabel: 'Create Freshdesk Company',
        color: '#ff7a59',
        defaults: {
            name: { value: '' },
            freshdesk: { value: '', type: "freshdeskCredentials", required: true },
            inputData: { value: 'payload', required: true },
        },
        inputs: 1,
        outputs: 1,
        icon: 'font-awesome/fa-search',
        label: function () {
            return this.name || 'Create Freshdesk Company';
        },
        oneditprepare: function() {
            $("#node-input-inputData").typedInput({
              type:"msg",
              types:["msg"],
              typeField: "#node-input-inputData-type"
            });
        }
    });
</script>

<script type="text/html" data-template-name="freshdesk-create-company">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-freshdesk"><i class="fa fa-institution"></i> Freshdesk</label>
        <input type="text" id="node-input-freshdesk"/>
    </div>
    <div class="form-row">
        <label for="node-input-inputData"><i class="fa fa-sign-in"></i> Data</label>
        <input type="text" id="node-input-inputData" value="msg.payload">
        <input type="hidden" id="node-input-id-inputData">
    </div>
</script>

<script type="text/html" data-help-name="freshdesk-create-company">
    <h2>How to use this node</h2>
    <p>Creates a company in Freshdesk. The node expects the data to be a javascript object and be inputted on the Data field.</p>
    <p>The Freshdesk field asks for your Freshdesk account. For more info on this please check the docs in the config node.</p>
    <p>To get more information on what you can input how how to format please visit the official Freshdesk docs. Note, since the Freshdesk docs website is not really good it can send you to the wrong place in the docs.</p>
    <p><a href="https://developers.freshdesk.com/api/#create_company" target="_blank">https://developers.freshdesk.com/api/#create_company</a></p>
</script>
