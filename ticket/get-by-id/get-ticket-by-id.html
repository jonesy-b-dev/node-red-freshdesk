<script type="text/javascript">
    RED.nodes.registerType('freshdesk-get-ticket-by-id', {
        category: 'Freshdesk',
        paletteLabel: 'Get Freshdesk Ticket By ID',
        color: '#ff7a59',
        defaults: {
            name: { value: '' },
            freshdesk: {value: '', type: "freshdeskCredentials", required: true},
            ticketId: { value: 'id', required: false },
        },
        inputs: 1,
        outputs: 1,
        icon: 'font-awesome/fa-search',
        label: function () {
            return this.name || 'Get Freshdesk Ticket By ID';
        },
        oneditprepare: function() {
            $("#node-input-ticketId").typedInput({
              type:"msg",
              types:["msg"],
              typeField: "#node-input-ticketId-type"
            });
        }
    });
</script>

<script type="text/html" data-template-name="freshdesk-get-ticket-by-id">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-freshdesk"><i class="fa fa-institution"></i> Freshdesk</label>
        <input type="text" id="node-input-freshdesk"/>
    </div>
    <div class="form-row">
        <label for="node-input-ticketId"><i class="fa fa-user"></i> Ticket ID</label>
        <input type="text" id="node-input-ticketId">
        <input type="hidden" id="node-input-id-ticketId">
    </div>
</script>

<script type="text/html" data-help-name="freshdesk-get-ticket-by-id">
    <h2>How to use this node</h2>
    <p>Gets ticket information by passing in the ID of the ticket and returns the result in msg.payload. To list all tickets simple don't enter a ticket ID.</p>
    <p>The Freshdesk field asks for your Freshdesk account. For more info on this please check the docs in the config node.</p>
    <p>In the ticket ID field you can specify the msg property where the ID is stored. Please only have the ID in the property and nothing else. Otherwise it will result in an error.</p>
    <p>To get more information on what you can input how how to format please visit the official Freshdesk docs. Note, since the Freshdesk docs website is not really good it can send you to the wrong place in the docs.</p>
    <p><a href="https://developers.freshdesk.com/api/#view_a_ticket" target="_blank">https://developers.freshdesk.com/api/#view_a_ticket</a></p>
</script>